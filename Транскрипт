[0:00] Speaker A: Итак, для выполнения тестового задания потребуется вот ссылка на Google Диск. Здесь у нас находятся папки заказчик. Есть два типа файлов. Они одинаковые, просто в формате log. Здесь три файла, либо в формате txt, кому как удобно. Также есть папка исполнителей. Здесь также есть rtf файл, формат rtf, три файла и txt файл. В заказчике у нас есть два заказчика. Заказчик номер один под UID, UID там понадобится, я расскажу, под UID-199. Второй заказчик под UID-87, он разделен на две части. И исполнитель есть, три исполнителя, 122, 203 и 221 UID у них. Также понадобится вот такая схема, я сейчас по ней пройдусь, расскажу. Если в двух словах что нужно сделать, то вот эти исполнители, в каждом из них есть какая-то проблема. То есть они выполняют свою задачу, но в какой-то момент у них есть какие-то сбои, то есть в какой-то момент они не справляются. Нужно определить, что с ними не так. Для этого сначала я расскажу, в принципе, что за задача, какую задачу решают эти исполнители. Потом пройдусь по этим логам, то есть объясню, как их читать, как понимать, что происходит. И, в принципе, все, и можно будет выполнить это задание. Так, ну, значит, сначала пройдусь по схеме.
[1:31] Speaker A: Заказчик отправляет запрос исполнителям, это происходит автоматически, условно, каждую минуту, или даже, правильнее сказать, как только исполнитель выполняет задачу, заказчик присылает новую, новую и так далее. Вот, отправляет он запрос, он хочет получить 8 видео. Я буду так вкратце проходить по схеме, потому что не так важно прям все детали понимать. Вот, заказчик хочет получить 8 видео по какому-то запросу. Он отправляет какой-то запрос, например, там, я не знаю, лучшая диета в мире, допустим. Вот, и исполнитель получает этот запрос, и по этому запросу ему нужно найти и прислать 8 видео. Вот, сначала исполнитель идет... меняет этот запрос через LLM, LLM это большие языковые модели, если так по-другому сказать, меняет запрос через ChatGPT два раза и ищет по 100 видео, это я взял реальный пример нашего алгоритма, здесь много тонкостей, нюансов, в общем они не так важны, в общем мы меняем этот запрос, например, там типа
[2:30] Speaker A: Не лучшая диета в мире, а лучшая диета для похудения, допустим, ну и так далее, в общем, как-то меняем, собираем по 100 видео, вот, потом добавляем еще варианты, собираем, в итоге должно получиться 500 видео в сумме, вот, потом идем, соответственно, идем в YouTube и мы качаем Точнее, находим эти 500 видео и находим их YouTube ID. Затем мы идем в датасет. Там есть специальный датасет, специальное место, где мы на совпадение, находим уникальный YouTube ID, и потом мы начинаем качать. Нас просили 8 видео, но мы с запасом качаем 12, потому что там потом еще много манипуляций нужно будет делать. Качаем 12, параллельно качаем только первые 60 секунд, то есть мы сразу качаемся на 60 секунд. Если не добралось вдруг 12 видео, то мы качаем то, что есть, то, что смогли найти. Потом мы в этих видео вырезаем 20 секунд рандомных, от 0 до 60 секунд вырезаем 20 секунд. Затем мы генерируем эмбеддинги. Эмбеддинги это такое представление видео в форме цифр, в виде цифр. Затем мы проверяем на уникальность в нашей векторной базе. У нас есть специальная база, где есть все как бы... эмбезинги всех видео, которых все исполнители отправляют заказчику. И мы там проверяем, чтобы пройти порог уникальности.
[3:57] Speaker A: Там есть определенный порог уникальности, мы должны его пройти. Если у нас нет 8 уникальных видео, если мы не прошли порог, допустим, у нас было 12 изначально, а здесь отсеялось 6, то мы идем заново сюда и снова скачиваем видео и так далее, пока у нас будет 8 уникальных видео. Потом проверяем на уникальность в базе данных заказчика, если осталось время улучшаем описание потому что описание тоже нужно отправлять и в итоге конечном итоге отправляем 8 видео на все про все у нас есть 120 секунд вот после того как мы отправили 8 видео заказчику нужно как-то оценить кстати да вот в самом начале забыл сказать что заказчик сначала идет в свою базу данных где есть 1000 тем и он достает одну тему один запрос и отправляет исполнителю вот Значит, после того, как он получил ответ, он должен оценить. Первое, что он делает, это он проверяет, существует ли вообще это видео. Он сам идет на YouTube, берет одно видео, одно из тех, что мы представили, мы 8 представили, он берет одно YouTube ID, идет и сам скачивает. Если у него не получается, он берет другое видео и тоже его скачивает. Если он не смог скачать, то ставит в штраф исполнительный.
[5:13] Speaker A: Если смог скачать, тогда он идет дальше, он генерирует эмбеддинг этого видео, чтобы сравнить с нашим. То есть мы когда отправляем 8 видео, на самом деле мы не видео отправляем, а эмбеддинги. И он должен проверить, что действительно этот эмбеддинг был сделан с этого видео. То, что он скачал с YouTube, он генерирует эмбеддинг и сравнивает с нашим. Соответственно, должно совпать. Если совпало, тогда идет дальше. Если не совпало, то тоже ставит штраф. И затем, если все совпало, он должен нас оценить по трем критериям. Первое – это уникальность. Вот здесь написано как раз про порог 0.1. То есть он проверяет эти embedding в своей базе, в той самой, в которой мы тоже проверяли, прежде чем его отправить. И эти видео должны пройти порог. Если какое-то видео не проходит порог, в 0.1, то этому видео сразу ставится оценка 0. Затем он сравнивает на схожесть видео с описанием. То есть описание, когда мы открываем описание, мы тоже открываем в виде эмбеддингов. И он сравнивает эмбеддинги видео с эмбеддингами описания, и они должны быть схожими, чтобы было понятно, что этот текст относится к этому видео. И тоже ставит нам какую-то оценку. И затем он сравнивает схожесть запроса с видео.
[6:34] Speaker A: То есть вот он отправлял нам, например, что-то про диеты, и он сравнивает запросы с эмбеддингами видео, чтобы там тоже было про диеты. И в конечном итоге он ставит итоговую новооценку, которая будет от 0 до 1. То есть он по каждому видео ставит 3 оценки, потом все это усредняет, и мы получаем итоговую оценку от 0 до 1. Вот примерно такая схема получается. Исполнителей здесь много. Не только мы. Ну и наша задача понять, почему наши исполнители в какой-то момент плохо работают. Это лог файла одного из исполнителей под UID-122. Здесь примерно можно понять, что происходит. Опять же, не буду очень подробно останавливаться на этом, но вкратце вот посмотрим. Вот такая стрелочка означает, что нам пришел запрос от заказчика. Это там уникальный номер заказчика. Вот здесь написано timeout 120 секунд. Здесь написано его UID. Напомню, что у нас есть два файла заказчиков. Это 199 и 87. То есть вот этого заказчика у нас нет. Если бы мы хотели посмотреть, так скажем, с другой стороны, то есть как оценивает нас заказчик, то мы бы не смогли этого сделать, потому что этого заказчика у нас нет. Файла этого заказчика. Вот. Дальше мы... Здесь мы видим, что мы получили от него запрос. Вот такой.
[8:06] Speaker A: И мы должны пойти в YouTube и начать скачивать. Сначала мы идем. Видно, что мы преобразовали через LLM в другой немножко запрос. Потом мы идем, ищем. Здесь как раз написано, что мы нашли 103 видео. Вот. Там еще что-то. Короче, много чего нашли. Потом мы проверили в датасете то, что мы видели на схеме. Вот на этой. Сейчас покажу. то есть это по сути это мы в текстовом виде видим как вот этот наш алгоритм работает вот мы пошли в датасет это как раз здесь видно вот здесь вот датасет пошли проверили и вытащили там 165 уникальных видео теперь мы собираемся скачать 12 видео мы используем прокси вот такие для скачивания Вот, мы все это качаем, вот здесь идет скачивание, скачивание и вырезание сразу. То, что я говорил, что мы качаем первую минуту, а потом вырезаем рандомно 20 секунд. Вот с 6 по 26 секунд мы вырезали. Вот, мы качаем, качаем, качаем. Потом нам нужно сделать эмбеттинги. Вот мы сгенерировали эмбеттинги. Мы везде пишем, сколько заняло времени. Вот прошло времени 55 секунд, осталось времени 64 секунды, потому что тайм-аут за 20 секунд. Вот. Дальше мы оцениваем уникальность, то, что я рассказывал про порог. То есть мы смотрим каждое видео, какое уникальное или нет.
[9:26] Speaker A: То есть порог 0.1, соответственно, вот это уникальное, это уникальное, это уникальное и так далее. Ну, здесь, в принципе, все уникальные, все прошли порог. Ну, здесь дальше, в общем, еще какие-то вещи происходят. И в конечном итоге мы пишем, что мы подготовили 7 видео и отправили их. Вот здесь есть UID каждого видео. какое-то описание этого видео, отрезок этого видео. И в итоге здесь написано, что мы фейл, потому что мы отправили только 7 из 8, а нас просят 8 отправить. То есть нам не удалось найти 8 видео, нашли только 7. Вот. Ну и дальше все повторяется. То есть опять здесь приходит нам запрос. Здесь конкретно этого чувака мы заблоклистили. Там есть тоже нюансы, кого мы блоклистим, кого нет. Потом пришел вот этот запрос. Его мы уже не стали блоклистить. Кстати, у него номер 39. Можно такой же найти, только там будет не 39. Кстати, нужно пользоваться поиском. Например, мы берем и вот так вот копируем. И вот мы видим запросы от 166, 166, 166, 254, 165. Итак, мы можем найти от 199. То есть мы знаем, что файл 199 у нас есть. Соответственно, если мы находим, что нам пришел запрос от 199 заказчика, то мы можем пойти в его файл и этот же запрос найти с его стороны.
[10:57] Speaker A: То есть он нам отправлял, у нас есть запись о том, что он нам отправил, и мы здесь выполняли задачу, и в итоге отправили ему ответ. А у него есть запись о том, что тоже он нам отправлял и получил от нас ответ. И вот эта вот часть, которая мы здесь рассматривали, все только что мы вот это рассматривали, а вот эта часть, мы будем смотреть уже на стороне заказчика, то есть что он сделал дальше с нашим запросом, когда он его получил. сейчас посмотрим вот здесь так выглядит вот соответственно логе заказчика помним что наш у нас есть три заказчика посмотрим вспомним их и войди в точнее три исполнителя у нас есть вот 122 203 221 все И здесь мы можем посмотреть, каким исполнителем он отправил запрос. Здесь видим, что нет ни 122, ни 221. Нет, этого из них нет. То есть это он просто отправил запросы другим исполнителям. Мы так можем найти себя. Как это сделать? Можно, опять же, вот так вот. Например, вот поэтому сделать. Здесь вот ищем. Есть здесь что-то из нашего, тоже не вижу. Тоже не вижу. Ну и так далее. То есть в таком формате можно найти один из наших. И так мы сможем увидеть, как мы отработали его. Ну ладно, я сейчас не буду этим заниматься. Значит, что он здесь делает?
[12:32] Speaker A: Он отправляет вот эту стрелочку направо, означает, что это исходящий запрос, он отправляет исполнителям запрос, а эта стрелочка налево означает, что исполнители прислали ответ. Вот, например, вот этому, это его уникальный номер. 5 и 4, 8, да. Ему отправили мы там, например, 25, 44, 22, 25, 44, а он, вот он, прислал нам ответ 22, 26, 20. То есть у него это заняло, там, сколько, минуту, там, да, или меньше минуты, 40 секунд заняло, чтобы он нам дал ответ. Вот, то есть такую вещь мы можем здесь посмотреть. Дальше здесь есть все ответы, которые мы от них получили. Разделить один ответ от другого можно, например, вот так сделать. Вот. То есть, вот этот ответ, вот отсюда до сюда, это ответ первого. Первого это вот этого, который 171. Вот. Соответственно, вот отсюда до сюда, это ответ второго. Так вот. Ну и так далее. Так мы можем разделить ответы каждому. Это можно сделать в отдельном текстовом документе. Можно отметить каждому, например, взять 171 и скопировать вот это вот все, чтобы понятно было, что это относится к нему. Потом взять 159 и так далее. Ну то есть разделить можно. В общем, с файлом нужно работать, преобразовывать его так, как удобно. Что здесь они присылают?
[13:57] Speaker A: Ну вот здесь видно, что сам запрос присылают. Количество видео 8. YouTube ID. Описание видео. Вот оно такое большое. Количество просмотров видео. Начало и конец. Это как раз какой-то другой исполнитель, он вырезает 6 секунд. То есть мы вырезаем 20 секунд, он вырезает 6. Видео эмбеддинг. Аудио эмбеддинг. Эмбеддинг описания присылают. Вот. Ну и так далее. Следующее видео. Вот уже следующее пошло видео. Описание следующего видео и так далее. То есть 8 видео как бы находятся вот здесь. Здесь находится информация по 8 видео от одного исполнителя. Ну и здесь соответственно все исполнители. И здесь идет оценка. Вот первоисполнителя оцениваем. Здесь сначала уникальность, порог прошел, не прошел. Здесь видно, что все 8 видео отправлены, они прошли порог. Затем здесь оценка по описанию, насколько описание релевантно видео. И такие вот оценки, то есть от 0 до 1 получают оценки. Затем соответствие запросу, тоже соответственно оценки. И конечная оценка, то есть одна цифра, которая формируется из вот этого вот всего. Ну, то есть среднее число вот этого, среднее число вот этого, и потом среднее число вот этих двух, и получается вот такая средняя оценка. Вот, и так оценивают каждого.
[15:33] Speaker A: Вот здесь затем общие итоговые цифры по всем исполнителям. А здесь усредненные цифры. То есть, грубо говоря, вот этот исполнитель, он ответил один раз хорошо, другой раз плохо, и, соответственно, этого исполнителя здесь уже усредняют. Но этот этап тоже не так важен. В конце концов пишут, вот сколько, опять же, еще раз, да, сколько получил каждый исполнитель. Какую оценку? Мы знаем, что у нас 122 номер, мы можем вот так вот скопировать, допустим, и написать 122. И вот мы нашли, например, один из наших ответов. Здесь видно, что 26 раз мы нашли такой запрос в поиске. Получается, 26 раз он отправлял нам какой-то запрос, заказчик этот, и мы ему отвечали. И мы можем все эти запросы проанализировать. Вот, кстати, я забыл сказать, что у нас есть два заказчика, и они разные по значимости. Вот этот заказчик, у него есть больший вес. То есть если он как бы ставит нам хорошую оценку, то это сильно хорошо. А этот у него меньший вес. И заказчиков, кстати, много, их 20. Здесь я просто дал только два заказчика. Файлы только двух заказчиков. Вот. Возвращаюсь к логам исполнителя и объясню вообще, в чем задача заключается в итоге. Точнее сказать, как определить, что работает он хорошо или нет.

[17:07] Speaker A: Вот пишем такую штуку здесь и попадаем в такую строчку. Она отличается постоянно, очень часто. Здесь даже можно увидеть, сколько ситуаций на 1800 данных. Есть определенные показатели, 0, 0, 0, 39. Все, что выше 0, 0, 0, 4, это хорошо. Это значит, что наш исполнитель работает хорошо, то есть его оценивают хорошо. Все, что ниже, это плохо. Ну, если чуть-чуть ниже, то это типа окей, там нет смысла разбираться, почему это произошло, ну, бывает. Но если сильно ниже, тогда это плохо. Вот если мы пролистаем ниже, например, остановимся где-нибудь и посмотрим. Сейчас не могу попасть на... Вот здесь 0.033, это уже плохо, плохая оценка, но по-моему здесь есть и хуже. То есть, грубо говоря, наша задача, вот она падает, вот у нас падает как бы этот показатель, значит мы работаем не очень хорошо. Вот, где-то она может еще упасть сильнее. Вот здесь она уже выросла, может быть дальше упадет. Здесь она сильно выросла, то есть здесь понятно, что нечего как бы искать, здесь он работает хорошо. И здесь довольно неплохо. То есть, получается, в этом файле нужно найти место, где он работал не очень хорошо. Здесь как бы все хорошо. То есть, он в какой-то момент работал хорошо, у него была хорошая оценка.
[18:34] Speaker A: Но потом он начал работать плохо. Надо найти это место. Вот здесь опять он начал скатываться. Возможно, есть еще ниже оценка. Вот, кстати, есть. Я видел 0.6. То есть, он сильно скатился. Мы видим по этой оценке, что он работает плохо. Мы можем и должны искать ответы где-то здесь, в логах самого исполнителя. То есть, мы знаем, какую задачу он вообще выполняет. У нас есть вот эта схема. Мы понимаем, что от него хотят 8 видео. Мы понимаем, что он делает для того, чтобы собрать эти 8 видео. Это есть у нас на схеме, также это у нас есть здесь. И мы смотрим каждый этап, анализируем, смотрим. Вот он качает, вот он генерирует обэйдинги, вот он еще что-то делает, вот он в итоге собрал 7 видео. Но это как бы не очень хорошо, да, то есть нас просят 8 видео, мы собрали 7. Вот, это уже как бы плохо, да, но может ли из-за этого, так скажем, вот этот показатель, да, упасть? Вот это уже вопрос. Для этого нужно, например, проанализировать, бывали ли такие ответы, допустим, плохие, в те моменты, когда вот этот показатель, инцентив, который я писал, вот этот показатель, он был хороший. Допустим, да, вот, и мы идем туда, смотрим и видим, что такие ответы, 7 из 8, в принципе, и там были.
[19:55] Speaker A: То есть вряд ли это является причиной, почему сейчас у него инцентив там 0.226, точнее 0.0026. Здесь нужно ставить гипотезы и проверять их. Пользоваться нужно обязательно этим поиском. Хотим попасть, например, на такие же ситуации. Я беру и смотрю. Вот здесь 8 из 8, 8 из 8, 8 из 8 и так далее. Могу пройтись по ним, могу пройтись по чему-то другому, могу пройтись по скачанному видео. Нужно сильно пользоваться поиском, чтобы найти то, что мы хотим найти. Это первая сторона, как мы можем понять, почему исполнитель работает плохо. А вторая — это искать ответы у заказчика. То есть мы знаем, например, Мы можем здесь найти запрос от этого заказчика. Например, мы возьмем, как выглядит у нас запрос. Это стрелочка, да? Вот такая. Я ее вбиваю в поиск и вижу, что здесь написано 31. А мне нужно, чтобы здесь было написано 199, допустим, да? Вот было, по-моему, нет. Нет, это все не то. Вот, 39. То есть я вижу здесь, что пришел запрос от вот этого заказчика, файл которого у меня есть. Я хочу не только посмотреть, как я выполнил запрос со своей стороны. Например, вот я вижу, как я выполнил. Вот я выполнил. Хорошо. Но я хочу также посмотреть с его стороны, как это выглядело.
[21:26] Speaker A: Я могу, например, скопировать вот этот кусочек, допустим. дату и там время и минуты допустим пойти в тот файл и попробовать найти это место в данном случае у меня не получилось вот интересно почему и вот уже надо разбираться почему не получилось возможно этого куска там нет то есть например 1859 18 числа пойду посмотрю где заканчивается файл вот он заканчивается в 1859 нет только 8 окей значит я вернусь и И найду запрос еще раз от этого же заказчика, но в пределах того времени, которое есть там. Ну и так далее. Я могу тогда посмотреть с двух сторон. Здесь я, например, ответил так-то, а он меня оценил так-то. Я уже думаю и пытаюсь понять, почему меня оценили плохо и так далее. Почему вот этот самый главный показатель, incentive, он типа падает. Как я уже сказал, здесь у нас есть три файла. Исполнители три файла. У каждого из этих файлов есть проблемы. Сейчас я только что показывал пример вот с этим. То есть в каждом из этих файлов incentive в какой-то момент хороший, в какой-то момент плохой. Мы хотим, чтобы он всегда был хороший. Чтобы он был выше 0.004. Но он снижается иногда до 0.003, 0.002. Можно, кстати, эти моменты тоже легко искать. Можно написать вот так.
[22:57] Speaker A: Ну вот, в этом файле я вижу, что нет такого плохого показателя. А, кстати, без пробела. Вот, я вижу, что есть. Я через поиск перемещаюсь на это место. Вот. И вижу, что вот был показатель аж 0.0023. Например, я смотрю вот такое-то время в 2 часа дня. А теперь я хочу посмотреть, а где же был хороший? Например, 5. Был ли такой вообще? Ну, 5 не было. А 4? А4 было. Вот, там было 2 часа дня, например, да, а я хочу до 2 часов, например, найти что-нибудь. Вот, например, я вижу здесь, вот, было 00.44. Получается, что в 6 утра было 00.44, а в 2 часа дня стало 00.23. Сильно хуже. И вот где-то в этом диапазоне, между... между шестью и двумя часами дня есть какая-то проблема вот я уже знаю как бы сужаюсь я уже понимаю где мне это искать и что что искать то есть здесь вот такая очень долгая муторная работа сначала нужно все понять разобраться научиться читать но я уже вот видео записал научиться читать эти влоги влоги исполнитель влоги заказчика и потом уже строить гипотезы очень хорошо пользоваться
[24:20] Speaker A: Поиском пользоваться этой схемой для понимания что происходит со стороны заказчика со стороны исполнителя вот и в итоге решить вот эту вот задачу в каждой из этих файлов есть проблемы и нужно понять в чем заключается проблема это должен быть ответ в виде а-ля сочинения так скажем ну типа что вот здесь я вижу вот такая может быть проблема а там может не одна быть допустим Ну, то есть я вижу проблему такую-то, что вот в такое-то время он отвечал, он получал хорошую оценку, инсентив на уровне там 0, 0, 0, там 40, что-то там. Вот, потом в течение 6 часов я заметил вот такие-то, такие-то, такие-то вещи, считаю, что именно эти вещи. привели к ухудшению, там, да. Также, там, а-ля, для подтверждения, я эту ситуацию нашел у заказчика и действительно убедился, там, например, в том, что заказчик плохо оценивает вот такие-то, такие-то вещи, из-за этого у нас, там, вот этот показатель упадает. У этого такая-то причина, у этого другая какая-то, допустим, причина, у этого какая-то третья причина. То есть полностью разобрать работу исполнителя, когда он работал хорошо, когда он работал плохо, почему, что вообще из всего этого вы сможете вытащить и как сможете аргументировать его работу.
[25:46] Speaker A: Потом мы созвонимся и обсудим, посмотрим на все это и обсудим, и посмотрим на то, как вы мыслите, посмотрим, что удалось действительно правильно определить, что удалось определить неправильно, какие попытки вообще были сделаны, какие гипотезы были построены, что подтвердилось, что не подтвердилось. Ну, в принципе, все.
